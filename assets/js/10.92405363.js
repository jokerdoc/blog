(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{212:function(a,t,s){"use strict";s.r(t);var e=s(2),r=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"安装pm2及使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装pm2及使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装pm2及使用")]),a._v(" "),s("h3",{attrs:{id:"安装pm2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装pm2","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装pm2")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g pm2 --registry https://registry.npm.taobao.org\n")])])]),s("h3",{attrs:{id:"查看当前版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前版本","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看当前版本")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("pm2 -v\n")])])]),s("h3",{attrs:{id:"运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行","aria-hidden":"true"}},[a._v("#")]),a._v(" 运行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("pm2 -v app.js --name app\n")])])]),s("p",[s("code",[a._v("app.js")]),a._v("是项目启动文件，"),s("code",[a._v("app")]),a._v("是自定义的进程名")]),a._v(" "),s("h3",{attrs:{id:"停止进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止进程","aria-hidden":"true"}},[a._v("#")]),a._v(" 停止进程")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("pm2 stop app\n")])])]),s("h3",{attrs:{id:"开机启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开机启动","aria-hidden":"true"}},[a._v("#")]),a._v(" 开机启动")]),a._v(" "),s("ul",[s("li",[a._v("运行"),s("code",[a._v("pm2 startup")]),a._v("，即在"),s("code",[a._v("/etc/init.d/")]),a._v("目录下生成pm2-root的启动脚本，且自动将pm2-root设为服务。")]),a._v(" "),s("li",[a._v("运行"),s("code",[a._v("pm2 save")]),a._v("，会将当前pm2所运行的应用保存在"),s("code",[a._v("/root/.pm2/dump.pm2")]),a._v("下，当开机重启时，运行pm2-root服务脚本，并且到"),s("code",[a._v("/root/.pm2/dump.pm2")]),a._v("下读取应用并启动。")])]),a._v(" "),s("h3",{attrs:{id:"end"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#end","aria-hidden":"true"}},[a._v("#")]),a._v(" --END--")])])},[],!1,null,null,null);t.default=r.exports}}]);